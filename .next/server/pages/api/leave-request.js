"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/leave-request";
exports.ids = ["pages/api/leave-request"];
exports.modules = {

/***/ "csv-parser":
/*!*****************************!*\
  !*** external "csv-parser" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("csv-parser");

/***/ }),

/***/ "csv-writer":
/*!*****************************!*\
  !*** external "csv-writer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("csv-writer");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fleave-request&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fleave-request.ts&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fleave-request&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fleave-request.ts&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_leave_request_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/leave-request.ts */ \"(api)/./pages/api/leave-request.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_leave_request_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_leave_request_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/leave-request\",\n        pathname: \"/api/leave-request\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_leave_request_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmxlYXZlLXJlcXVlc3QmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmxlYXZlLXJlcXVlc3QudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDeUQ7QUFDekQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHdEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx3REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFuZWRfbGVhdmVfZGVtby8/NmU4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2xlYXZlLXJlcXVlc3QudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9sZWF2ZS1yZXF1ZXN0XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbGVhdmUtcmVxdWVzdFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fleave-request&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fleave-request.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/leave-request.ts":
/*!************************************!*\
  !*** ./pages/api/leave-request.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_csvHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/csvHandler */ \"(api)/./utils/csvHandler.ts\");\n\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        const { employeeId, leaveType, startDate, endDate } = req.body;\n        try {\n            const employees = await (0,_utils_csvHandler__WEBPACK_IMPORTED_MODULE_0__.readEmployees)();\n            const employeeIndex = employees.findIndex((emp)=>emp.id === employeeId);\n            if (employeeIndex === -1) {\n                return res.status(404).json({\n                    error: \"Employee not found\"\n                });\n            }\n            const leaveDuration = calculateLeaveDuration(startDate, endDate);\n            const remainingLeaveField = `remaining${capitalizeFirstLetter(leaveType)}`;\n            if (employees[employeeIndex][remainingLeaveField] < leaveDuration) {\n                return res.status(400).json({\n                    error: \"Insufficient leave balance\"\n                });\n            }\n            // Update remaining leave\n            employees[employeeIndex][remainingLeaveField] -= leaveDuration;\n            // Write updated employees data back to CSV\n            await (0,_utils_csvHandler__WEBPACK_IMPORTED_MODULE_0__.writeEmployees)(employees);\n            res.status(200).json({\n                message: \"Leave request approved and remaining leave updated\"\n            });\n        } catch (error) {\n            console.error(\"Error processing leave request:\", error);\n            res.status(500).json({\n                error: \"Internal server error\"\n            });\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"POST\"\n        ]);\n        res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n}\nfunction calculateLeaveDuration(startDate, endDate) {\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n    const diffTime = Math.abs(end.getTime() - start.getTime());\n    return Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1; // +1 to include both start and end dates\n}\nfunction capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvbGVhdmUtcmVxdWVzdC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUN1RTtBQUV4RCxlQUFlRSxRQUFRQyxHQUFtQixFQUFFQyxHQUFvQjtJQUM3RSxJQUFJRCxJQUFJRSxNQUFNLEtBQUssUUFBUTtRQUN6QixNQUFNLEVBQUVDLFVBQVUsRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQUVDLE9BQU8sRUFBRSxHQUFHTixJQUFJTyxJQUFJO1FBRTlELElBQUk7WUFDRixNQUFNQyxZQUFZLE1BQU1YLGdFQUFhQTtZQUNyQyxNQUFNWSxnQkFBZ0JELFVBQVVFLFNBQVMsQ0FBQ0MsQ0FBQUEsTUFBT0EsSUFBSUMsRUFBRSxLQUFLVDtZQUU1RCxJQUFJTSxrQkFBa0IsQ0FBQyxHQUFHO2dCQUN4QixPQUFPUixJQUFJWSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFQyxPQUFPO2dCQUFxQjtZQUM1RDtZQUVBLE1BQU1DLGdCQUFnQkMsdUJBQXVCWixXQUFXQztZQUN4RCxNQUFNWSxzQkFBc0IsQ0FBQyxTQUFTLEVBQUVDLHNCQUFzQmYsV0FBVyxDQUFDO1lBRTFFLElBQUlJLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDUyxvQkFBb0IsR0FBR0YsZUFBZTtnQkFDakUsT0FBT2YsSUFBSVksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsT0FBTztnQkFBNkI7WUFDcEU7WUFFQSx5QkFBeUI7WUFDekJQLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDUyxvQkFBb0IsSUFBSUY7WUFFakQsMkNBQTJDO1lBQzNDLE1BQU1sQixpRUFBY0EsQ0FBQ1U7WUFFckJQLElBQUlZLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVNLFNBQVM7WUFBcUQ7UUFDdkYsRUFBRSxPQUFPTCxPQUFPO1lBQ2RNLFFBQVFOLEtBQUssQ0FBQyxtQ0FBbUNBO1lBQ2pEZCxJQUFJWSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQXdCO1FBQ3hEO0lBQ0YsT0FBTztRQUNMZCxJQUFJcUIsU0FBUyxDQUFDLFNBQVM7WUFBQztTQUFPO1FBQy9CckIsSUFBSVksTUFBTSxDQUFDLEtBQUtVLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRXZCLElBQUlFLE1BQU0sQ0FBQyxZQUFZLENBQUM7SUFDeEQ7QUFDRjtBQUVBLFNBQVNlLHVCQUF1QlosU0FBaUIsRUFBRUMsT0FBZTtJQUNoRSxNQUFNa0IsUUFBUSxJQUFJQyxLQUFLcEI7SUFDdkIsTUFBTWtCLE1BQU0sSUFBSUUsS0FBS25CO0lBQ3JCLE1BQU1vQixXQUFXQyxLQUFLQyxHQUFHLENBQUNMLElBQUlNLE9BQU8sS0FBS0wsTUFBTUssT0FBTztJQUN2RCxPQUFPRixLQUFLRyxJQUFJLENBQUNKLFdBQVksUUFBTyxLQUFLLEtBQUssRUFBQyxLQUFNLEdBQUcseUNBQXlDO0FBQ25HO0FBRUEsU0FBU1Asc0JBQXNCWSxNQUFjO0lBQzNDLE9BQU9BLE9BQU9DLE1BQU0sQ0FBQyxHQUFHQyxXQUFXLEtBQUtGLE9BQU9HLEtBQUssQ0FBQztBQUN2RCIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYW5lZF9sZWF2ZV9kZW1vLy4vcGFnZXMvYXBpL2xlYXZlLXJlcXVlc3QudHM/N2YyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyByZWFkRW1wbG95ZWVzLCB3cml0ZUVtcGxveWVlcyB9IGZyb20gJy4uLy4uL3V0aWxzL2NzdkhhbmRsZXInO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICBjb25zdCB7IGVtcGxveWVlSWQsIGxlYXZlVHlwZSwgc3RhcnREYXRlLCBlbmREYXRlIH0gPSByZXEuYm9keTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBlbXBsb3llZXMgPSBhd2FpdCByZWFkRW1wbG95ZWVzKCk7XG4gICAgICBjb25zdCBlbXBsb3llZUluZGV4ID0gZW1wbG95ZWVzLmZpbmRJbmRleChlbXAgPT4gZW1wLmlkID09PSBlbXBsb3llZUlkKTtcblxuICAgICAgaWYgKGVtcGxveWVlSW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnRW1wbG95ZWUgbm90IGZvdW5kJyB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbGVhdmVEdXJhdGlvbiA9IGNhbGN1bGF0ZUxlYXZlRHVyYXRpb24oc3RhcnREYXRlLCBlbmREYXRlKTtcbiAgICAgIGNvbnN0IHJlbWFpbmluZ0xlYXZlRmllbGQgPSBgcmVtYWluaW5nJHtjYXBpdGFsaXplRmlyc3RMZXR0ZXIobGVhdmVUeXBlKX1gIGFzIGtleW9mIHR5cGVvZiBlbXBsb3llZXNbMF07XG4gICAgICBcbiAgICAgIGlmIChlbXBsb3llZXNbZW1wbG95ZWVJbmRleF1bcmVtYWluaW5nTGVhdmVGaWVsZF0gPCBsZWF2ZUR1cmF0aW9uKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnSW5zdWZmaWNpZW50IGxlYXZlIGJhbGFuY2UnIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgcmVtYWluaW5nIGxlYXZlXG4gICAgICBlbXBsb3llZXNbZW1wbG95ZWVJbmRleF1bcmVtYWluaW5nTGVhdmVGaWVsZF0gLT0gbGVhdmVEdXJhdGlvbjtcblxuICAgICAgLy8gV3JpdGUgdXBkYXRlZCBlbXBsb3llZXMgZGF0YSBiYWNrIHRvIENTVlxuICAgICAgYXdhaXQgd3JpdGVFbXBsb3llZXMoZW1wbG95ZWVzKTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnTGVhdmUgcmVxdWVzdCBhcHByb3ZlZCBhbmQgcmVtYWluaW5nIGxlYXZlIHVwZGF0ZWQnIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIGxlYXZlIHJlcXVlc3Q6JywgZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydQT1NUJ10pO1xuICAgIHJlcy5zdGF0dXMoNDA1KS5lbmQoYE1ldGhvZCAke3JlcS5tZXRob2R9IE5vdCBBbGxvd2VkYCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlTGVhdmVEdXJhdGlvbihzdGFydERhdGU6IHN0cmluZywgZW5kRGF0ZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShzdGFydERhdGUpO1xuICBjb25zdCBlbmQgPSBuZXcgRGF0ZShlbmREYXRlKTtcbiAgY29uc3QgZGlmZlRpbWUgPSBNYXRoLmFicyhlbmQuZ2V0VGltZSgpIC0gc3RhcnQuZ2V0VGltZSgpKTtcbiAgcmV0dXJuIE1hdGguY2VpbChkaWZmVGltZSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSkgKyAxOyAvLyArMSB0byBpbmNsdWRlIGJvdGggc3RhcnQgYW5kIGVuZCBkYXRlc1xufVxuXG5mdW5jdGlvbiBjYXBpdGFsaXplRmlyc3RMZXR0ZXIoc3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufVxuIl0sIm5hbWVzIjpbInJlYWRFbXBsb3llZXMiLCJ3cml0ZUVtcGxveWVlcyIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJlbXBsb3llZUlkIiwibGVhdmVUeXBlIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImJvZHkiLCJlbXBsb3llZXMiLCJlbXBsb3llZUluZGV4IiwiZmluZEluZGV4IiwiZW1wIiwiaWQiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJsZWF2ZUR1cmF0aW9uIiwiY2FsY3VsYXRlTGVhdmVEdXJhdGlvbiIsInJlbWFpbmluZ0xlYXZlRmllbGQiLCJjYXBpdGFsaXplRmlyc3RMZXR0ZXIiLCJtZXNzYWdlIiwiY29uc29sZSIsInNldEhlYWRlciIsImVuZCIsInN0YXJ0IiwiRGF0ZSIsImRpZmZUaW1lIiwiTWF0aCIsImFicyIsImdldFRpbWUiLCJjZWlsIiwic3RyaW5nIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/leave-request.ts\n");

/***/ }),

/***/ "(api)/./utils/csvHandler.ts":
/*!*****************************!*\
  !*** ./utils/csvHandler.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readEmployees: () => (/* binding */ readEmployees),\n/* harmony export */   writeEmployees: () => (/* binding */ writeEmployees)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var csv_parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! csv-parser */ \"csv-parser\");\n/* harmony import */ var csv_parser__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(csv_parser__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var csv_writer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! csv-writer */ \"csv-writer\");\n/* harmony import */ var csv_writer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(csv_writer__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst CSV_FILE_PATH = \"./data/employees.csv\";\nconst readEmployees = ()=>{\n    return new Promise((resolve, reject)=>{\n        const results = [];\n        fs__WEBPACK_IMPORTED_MODULE_0___default().createReadStream(CSV_FILE_PATH).pipe(csv_parser__WEBPACK_IMPORTED_MODULE_1___default()()).on(\"data\", (data)=>{\n            results.push({\n                id: data.ID || String(Date.now()),\n                name: data.Name || \"\",\n                email: data.Email || \"\",\n                annualLeave: Number(data[\"Annual Leave\"]) || 0,\n                remainingAnnualLeave: Number(data[\"Remaining Annual Leave\"]) || 0,\n                sickLeave: Number(data[\"Sick Leave\"]) || 0,\n                remainingSickLeave: Number(data[\"Remaining Sick Leave\"]) || 0,\n                personalLeave: Number(data[\"Personal Leave\"]) || 0,\n                remainingPersonalLeave: Number(data[\"Remaining Personal Leave\"]) || 0\n            });\n        }).on(\"end\", ()=>{\n            resolve(results);\n        }).on(\"error\", reject);\n    });\n};\nconst writeEmployees = async (employees)=>{\n    const csvWriter = (0,csv_writer__WEBPACK_IMPORTED_MODULE_2__.createObjectCsvWriter)({\n        path: CSV_FILE_PATH,\n        header: [\n            {\n                id: \"id\",\n                title: \"ID\"\n            },\n            {\n                id: \"name\",\n                title: \"Name\"\n            },\n            {\n                id: \"email\",\n                title: \"Email\"\n            },\n            {\n                id: \"annualLeave\",\n                title: \"Annual Leave\"\n            },\n            {\n                id: \"remainingAnnualLeave\",\n                title: \"Remaining Annual Leave\"\n            },\n            {\n                id: \"sickLeave\",\n                title: \"Sick Leave\"\n            },\n            {\n                id: \"remainingSickLeave\",\n                title: \"Remaining Sick Leave\"\n            },\n            {\n                id: \"personalLeave\",\n                title: \"Personal Leave\"\n            },\n            {\n                id: \"remainingPersonalLeave\",\n                title: \"Remaining Personal Leave\"\n            }\n        ]\n    });\n    await csvWriter.writeRecords(employees);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9jc3ZIYW5kbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQW9CO0FBQ1M7QUFDc0I7QUFFbkQsTUFBTUcsZ0JBQWdCO0FBY2YsTUFBTUMsZ0JBQWdCO0lBQzNCLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztRQUMzQixNQUFNQyxVQUFzQixFQUFFO1FBQzlCUiwwREFBbUIsQ0FBQ0csZUFDakJPLElBQUksQ0FBQ1QsaURBQUdBLElBQ1JVLEVBQUUsQ0FBQyxRQUFRLENBQUNDO1lBQ1hKLFFBQVFLLElBQUksQ0FBQztnQkFDWEMsSUFBSUYsS0FBS0csRUFBRSxJQUFJQyxPQUFPQyxLQUFLQyxHQUFHO2dCQUM5QkMsTUFBTVAsS0FBS1EsSUFBSSxJQUFJO2dCQUNuQkMsT0FBT1QsS0FBS1UsS0FBSyxJQUFJO2dCQUNyQkMsYUFBYUMsT0FBT1osSUFBSSxDQUFDLGVBQWUsS0FBSztnQkFDN0NhLHNCQUFzQkQsT0FBT1osSUFBSSxDQUFDLHlCQUF5QixLQUFLO2dCQUNoRWMsV0FBV0YsT0FBT1osSUFBSSxDQUFDLGFBQWEsS0FBSztnQkFDekNlLG9CQUFvQkgsT0FBT1osSUFBSSxDQUFDLHVCQUF1QixLQUFLO2dCQUM1RGdCLGVBQWVKLE9BQU9aLElBQUksQ0FBQyxpQkFBaUIsS0FBSztnQkFDakRpQix3QkFBd0JMLE9BQU9aLElBQUksQ0FBQywyQkFBMkIsS0FBSztZQUN0RTtRQUNGLEdBQ0NELEVBQUUsQ0FBQyxPQUFPO1lBQ1RMLFFBQVFFO1FBQ1YsR0FDQ0csRUFBRSxDQUFDLFNBQVNKO0lBQ2pCO0FBQ0YsRUFBRTtBQUVLLE1BQU11QixpQkFBaUIsT0FBT0M7SUFDbkMsTUFBTUMsWUFBWTlCLGlFQUFxQkEsQ0FBQztRQUN0QytCLE1BQU05QjtRQUNOK0IsUUFBUTtZQUNOO2dCQUFFcEIsSUFBSTtnQkFBTXFCLE9BQU87WUFBSztZQUN4QjtnQkFBRXJCLElBQUk7Z0JBQVFxQixPQUFPO1lBQU87WUFDNUI7Z0JBQUVyQixJQUFJO2dCQUFTcUIsT0FBTztZQUFRO1lBQzlCO2dCQUFFckIsSUFBSTtnQkFBZXFCLE9BQU87WUFBZTtZQUMzQztnQkFBRXJCLElBQUk7Z0JBQXdCcUIsT0FBTztZQUF5QjtZQUM5RDtnQkFBRXJCLElBQUk7Z0JBQWFxQixPQUFPO1lBQWE7WUFDdkM7Z0JBQUVyQixJQUFJO2dCQUFzQnFCLE9BQU87WUFBdUI7WUFDMUQ7Z0JBQUVyQixJQUFJO2dCQUFpQnFCLE9BQU87WUFBaUI7WUFDL0M7Z0JBQUVyQixJQUFJO2dCQUEwQnFCLE9BQU87WUFBMkI7U0FDbkU7SUFDSDtJQUVBLE1BQU1ILFVBQVVJLFlBQVksQ0FBQ0w7QUFDL0IsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYW5lZF9sZWF2ZV9kZW1vLy4vdXRpbHMvY3N2SGFuZGxlci50cz85MGQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgY3N2IGZyb20gJ2Nzdi1wYXJzZXInO1xuaW1wb3J0IHsgY3JlYXRlT2JqZWN0Q3N2V3JpdGVyIH0gZnJvbSAnY3N2LXdyaXRlcic7XG5cbmNvbnN0IENTVl9GSUxFX1BBVEggPSAnLi9kYXRhL2VtcGxveWVlcy5jc3YnO1xuXG5pbnRlcmZhY2UgRW1wbG95ZWUge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGFubnVhbExlYXZlOiBudW1iZXI7XG4gIHJlbWFpbmluZ0FubnVhbExlYXZlOiBudW1iZXI7XG4gIHNpY2tMZWF2ZTogbnVtYmVyO1xuICByZW1haW5pbmdTaWNrTGVhdmU6IG51bWJlcjtcbiAgcGVyc29uYWxMZWF2ZTogbnVtYmVyO1xuICByZW1haW5pbmdQZXJzb25hbExlYXZlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCByZWFkRW1wbG95ZWVzID0gKCk6IFByb21pc2U8RW1wbG95ZWVbXT4gPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdHM6IEVtcGxveWVlW10gPSBbXTtcbiAgICBmcy5jcmVhdGVSZWFkU3RyZWFtKENTVl9GSUxFX1BBVEgpXG4gICAgICAucGlwZShjc3YoKSlcbiAgICAgIC5vbignZGF0YScsIChkYXRhKSA9PiB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgaWQ6IGRhdGEuSUQgfHwgU3RyaW5nKERhdGUubm93KCkpLCAvLyDkvb/nlKjnj77mnIlJROaIlueUn+aIkOaWsElEXG4gICAgICAgICAgbmFtZTogZGF0YS5OYW1lIHx8ICcnLFxuICAgICAgICAgIGVtYWlsOiBkYXRhLkVtYWlsIHx8ICcnLFxuICAgICAgICAgIGFubnVhbExlYXZlOiBOdW1iZXIoZGF0YVsnQW5udWFsIExlYXZlJ10pIHx8IDAsXG4gICAgICAgICAgcmVtYWluaW5nQW5udWFsTGVhdmU6IE51bWJlcihkYXRhWydSZW1haW5pbmcgQW5udWFsIExlYXZlJ10pIHx8IDAsXG4gICAgICAgICAgc2lja0xlYXZlOiBOdW1iZXIoZGF0YVsnU2ljayBMZWF2ZSddKSB8fCAwLFxuICAgICAgICAgIHJlbWFpbmluZ1NpY2tMZWF2ZTogTnVtYmVyKGRhdGFbJ1JlbWFpbmluZyBTaWNrIExlYXZlJ10pIHx8IDAsXG4gICAgICAgICAgcGVyc29uYWxMZWF2ZTogTnVtYmVyKGRhdGFbJ1BlcnNvbmFsIExlYXZlJ10pIHx8IDAsXG4gICAgICAgICAgcmVtYWluaW5nUGVyc29uYWxMZWF2ZTogTnVtYmVyKGRhdGFbJ1JlbWFpbmluZyBQZXJzb25hbCBMZWF2ZSddKSB8fCAwLFxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH0pXG4gICAgICAub24oJ2Vycm9yJywgcmVqZWN0KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3Qgd3JpdGVFbXBsb3llZXMgPSBhc3luYyAoZW1wbG95ZWVzOiBFbXBsb3llZVtdKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGNvbnN0IGNzdldyaXRlciA9IGNyZWF0ZU9iamVjdENzdldyaXRlcih7XG4gICAgcGF0aDogQ1NWX0ZJTEVfUEFUSCxcbiAgICBoZWFkZXI6IFtcbiAgICAgIHsgaWQ6ICdpZCcsIHRpdGxlOiAnSUQnIH0sXG4gICAgICB7IGlkOiAnbmFtZScsIHRpdGxlOiAnTmFtZScgfSxcbiAgICAgIHsgaWQ6ICdlbWFpbCcsIHRpdGxlOiAnRW1haWwnIH0sXG4gICAgICB7IGlkOiAnYW5udWFsTGVhdmUnLCB0aXRsZTogJ0FubnVhbCBMZWF2ZScgfSxcbiAgICAgIHsgaWQ6ICdyZW1haW5pbmdBbm51YWxMZWF2ZScsIHRpdGxlOiAnUmVtYWluaW5nIEFubnVhbCBMZWF2ZScgfSxcbiAgICAgIHsgaWQ6ICdzaWNrTGVhdmUnLCB0aXRsZTogJ1NpY2sgTGVhdmUnIH0sXG4gICAgICB7IGlkOiAncmVtYWluaW5nU2lja0xlYXZlJywgdGl0bGU6ICdSZW1haW5pbmcgU2ljayBMZWF2ZScgfSxcbiAgICAgIHsgaWQ6ICdwZXJzb25hbExlYXZlJywgdGl0bGU6ICdQZXJzb25hbCBMZWF2ZScgfSxcbiAgICAgIHsgaWQ6ICdyZW1haW5pbmdQZXJzb25hbExlYXZlJywgdGl0bGU6ICdSZW1haW5pbmcgUGVyc29uYWwgTGVhdmUnIH0sXG4gICAgXSxcbiAgfSk7XG5cbiAgYXdhaXQgY3N2V3JpdGVyLndyaXRlUmVjb3JkcyhlbXBsb3llZXMpO1xufTtcbiJdLCJuYW1lcyI6WyJmcyIsImNzdiIsImNyZWF0ZU9iamVjdENzdldyaXRlciIsIkNTVl9GSUxFX1BBVEgiLCJyZWFkRW1wbG95ZWVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXN1bHRzIiwiY3JlYXRlUmVhZFN0cmVhbSIsInBpcGUiLCJvbiIsImRhdGEiLCJwdXNoIiwiaWQiLCJJRCIsIlN0cmluZyIsIkRhdGUiLCJub3ciLCJuYW1lIiwiTmFtZSIsImVtYWlsIiwiRW1haWwiLCJhbm51YWxMZWF2ZSIsIk51bWJlciIsInJlbWFpbmluZ0FubnVhbExlYXZlIiwic2lja0xlYXZlIiwicmVtYWluaW5nU2lja0xlYXZlIiwicGVyc29uYWxMZWF2ZSIsInJlbWFpbmluZ1BlcnNvbmFsTGVhdmUiLCJ3cml0ZUVtcGxveWVlcyIsImVtcGxveWVlcyIsImNzdldyaXRlciIsInBhdGgiLCJoZWFkZXIiLCJ0aXRsZSIsIndyaXRlUmVjb3JkcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/csvHandler.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fleave-request&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fleave-request.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();